<html>
<head>
<title> escape </title>
<script src="https://simplycodingcourses.com/files/simply.js"></script>
<script>
var level = [];
function start(){
sjs.open("target",1000,400);

//home button
var homeBtn = new sjs.Button("âŒ‚", function(){
window.location = "index.html";
});

homeBtn.top().left()

//background
var background = new sjs.Image("Images/background.gif");

var showBtn = new sjs.Button("Show", function(){
var output = document.querySelector("#output");
output.innerHTML = sjs.saveImageArray(level);
});

showBtn.offset(150, 100);

//player
var player = new sjs.Image("Images/idle right.gif");
player.type = "player";
player.setSize(40,80);
player.bottom().left();
player.noBounds = true;
player.setGravity(3);
player.friction = .3;


//keydown
var r_facing
sjs.keyDown(D_KEY, function(){
player.pushRight();
player.setImage("Images/move right.GIF");
r_facing = true;
});

sjs.keyDown(A_KEY, function(){
player.pushLeft();
player.setImage("Images/move left.GIF");
r_facing = false;
});

sjs.onHit("player","death",function(x,y){
player.bottom().left().offset(50,-50);
});

//Jumping Code
var canJump = true;
sjs.keyDown(W_KEY, function(){
if(canJump == true){
canJump = false;
player.pushUp(40);
if(r_facing == true){
player.setImage("Images/jump right.gif");
} else {
player.setImage("Images/jump left.gif");
}
} //end canJump if statement
}); //end keyDown function

sjs.onHit("player","bottom_screen",function(x,y){
sjs.stoppedBy(x,y);
if(canJump == false){
canJump = true;
}
});


sjs.onHit("player",["right_screen","left_screen","top_screen"],function(x,y){
sjs.stoppedBy(x,y);
});

sjs.onHit("player","block",function(x,y){
sjs.stoppedBy(x,y);
if(canJump == false && x.y < y.y-75){
canJump = true;
}
});

sjs.onHit("player","broken",function(x,y){
sjs.stoppedBy(x,y);
if(canJump == false && x.y < y.y-75){
canJump = true;
}
});

sjs.onHit("broken","laser",function(x,y){
x.destroy();
y.destroy();
});

//shooting 
var canShoot = true

sjs.keyDown(S_KEY, function(){
if(canShoot == true){
canShoot = false;
var laser = new sjs.Image("Images/laser.gif");
laser.type = "laser";
laser.setSize(10,5);
laser.friction= 0;
laser.noBounds= true;
if(r_facing == true){
laser.moveTo(player.getX()+44,player.getY()+50);
laser.pushRight(25.5);
player.setImage("Images/shoot right.gif");
} else {
laser.moveTo(player.getX()+-60,player.getY()+50);
laser.pushLeft(25.5);
player.setImage("Images/shoot left.gif");
}
setTimeout(function(){
canShoot = true;
if(r_facing == true){
player.setImage("Images/idle right.gif");
} else {
player.setImage("Images/idle left.gif");
}
},1000);
} //end canShoot if statement
}); //end keyDown function DOWN_KEY


} //end start

//block Function

function block(){
var block = new sjs.Image("Images/block.gif");
level.push(block);
block.type = "block";
block.setHeight(50);
block.center().offset(-sjs.gx,10);
block.onMouseDown(function(){
block.draggable();
block.follow(sjs.mouse);
});
}

function blockB(){
var blockB = new sjs.Image("Images/blockB.gif");
level.push(blockB);
blockB.type = "block";
blockB.setHeight(50);
blockB.center().offset(-sjs.gx,10);
blockB.onMouseDown(function(){
blockB.draggable();
blockB.follow(sjs.mouse);
});
}

function blockBL(){
var blockBL = new sjs.Image("Images/blockBL.gif");
level.push(blockBL);
blockBL.type = "block";
blockBL.setHeight(50);
blockBL.center().offset(-sjs.gx,10);
blockBL.onMouseDown(function(){
blockBL.draggable();
blockBL.follow(sjs.mouse);
});
}

function blockBR(){
var blockBR = new sjs.Image("Images/blockBR.gif");
level.push(blockBR);
blockBR.type = "block";
blockBR.setHeight(50);
blockBR.center().offset(-sjs.gx,10);
blockBR.onMouseDown(function(){
blockBR.draggable();
blockBR.follow(sjs.mouse);
});
}

function blockBRL(){
var blockBRL = new sjs.Image("Images/blockBRL.gif");
level.push(blockBRL);
blockBRL.type = "block";
blockBRL.setHeight(50);
blockBRL.center().offset(-sjs.gx,10);
blockBRL.onMouseDown(function(){
blockBRL.draggable();
blockBRL.follow(sjs.mouse);
});
}

function blockBT(){
var blockBT = new sjs.Image("Images/blockBT.gif");
level.push(blockBT);
blockBT.type = "block";
blockBT.setHeight(50);
blockBT.center().offset(-sjs.gx,10);
blockBT.onMouseDown(function(){
blockBT.draggable();
blockBT.follow(sjs.mouse);
});
}

function blockBTL(){
var blockBTL = new sjs.Image("Images/blockBTL.gif");
level.push(blockBTL);
blockBTL.type = "block";
blockBTL.setHeight(50);
blockBTL.center().offset(-sjs.gx,10);
blockBTL.onMouseDown(function(){
blockBTL.draggable();
blockBTL.follow(sjs.mouse);
});
}

function blockBTR(){
var blockBTR = new sjs.Image("Images/blockBTR.gif");
level.push(blockBTR);
blockBTR.type = "block";
blockBTR.setHeight(50);
blockBTR.center().offset(-sjs.gx,10);
blockBTR.onMouseDown(function(){
blockBTR.draggable();
blockBTR.follow(sjs.mouse);
});
}

function blockL(){
var blockL = new sjs.Image("Images/blockL.gif");
level.push(blockL);
blockL.type = "block";
blockL.setHeight(50);
blockL.center().offset(-sjs.gx,10);
blockL.onMouseDown(function(){
blockL.draggable();
blockL.follow(sjs.mouse);
});
}

function blockM(){
var blockM = new sjs.Image("Images/blockM.gif");
level.push(blockM);
blockM.type = "block";
blockM.setHeight(50);
blockM.center().offset(-sjs.gx,10);
blockM.onMouseDown(function(){
blockM.draggable();
blockM.follow(sjs.mouse);
});
}

function blockR(){
var blockR = new sjs.Image("Images/blockR.gif");
level.push(blockR);
blockR.type = "block";
blockR.setHeight(50);
blockR.center().offset(-sjs.gx,10);
blockR.onMouseDown(function(){
blockR.draggable();
blockR.follow(sjs.mouse);
});
}

function blockRL(){
var blockRL = new sjs.Image("Images/blockRL.gif");
level.push(blockRL);
blockRL.type = "block";
blockRL.setHeight(50);
blockRL.center().offset(-sjs.gx,10);
blockRL.onMouseDown(function(){
blockRL.draggable();
blockRL.follow(sjs.mouse);
});
}

function blockTR(){
var blockTR = new sjs.Image("Images/blockTR.gif");
level.push(blockTR);
blockTR.type = "block";
blockTR.setHeight(50);
blockTR.center().offset(-sjs.gx,10);
blockTR.onMouseDown(function(){
blockTR.draggable();
blockTR.follow(sjs.mouse);
});
}

function blockTRL(){
var blockTRL = new sjs.Image("Images/blockTRL.gif");
level.push(blockTRL);
blockTRL.type = "block";
blockTRL.setHeight(50);
blockTRL.center().offset(-sjs.gx,10);
blockTRL.onMouseDown(function(){
blockTRL.draggable();
blockTRL.follow(sjs.mouse);
});
}

function blockT(){
var blockT = new sjs.Image("Images/blockT.gif");
level.push(blockT);
blockT.type = "block";
blockT.setHeight(50);
blockT.center().offset(-sjs.gx,10);
blockT.onMouseDown(function(){
blockT.draggable();
blockT.follow(sjs.mouse);
});
}

function blockTL(){
var blockTL = new sjs.Image("Images/blockTL.gif");
level.push(blockTL);
blockTL.type = "block";
blockTL.setHeight(50);
blockTL.center().offset(-sjs.gx,10);
blockTL.onMouseDown(function(){
blockTL.draggable();
blockTL.follow(sjs.mouse);
});
}

function broken(){
var broken = new sjs.Image("Images/broken.gif");
level.push(broken);
broken.type = "broken";
broken.setHeight(50);
broken.center().offset(-sjs.gx,10);
broken.onMouseDown(function(){
broken.draggable();
broken.follow(sjs.mouse);
});
}

function door(){
var door = new sjs.Image("Images/door.gif");
level.push(door);
door.type = "door";
door.setHeight(100);
door.center().offset(-sjs.gx,10);
door.onMouseDown(function(){
door.draggable();
door.follow(sjs.mouse);
});
}

function death(){
var death = new sjs.Image("Images/death.gif");
level.push(death);
death.type = "death";
death.setHeight(50);
death.center().offset(-sjs.gx,10);
death.onMouseDown(function(){
death.draggable();
death.follow(sjs.mouse);
});
}

</script>
</head>
<body onload="start()">
<h1> escape level builder</h1>
<center>
<input type="image" src="Images/block.gif" onclick="block()">
<input type="image" src="Images/blockR.gif" onclick="blockR()">
<input type="image" src="Images/blockL.gif" onclick="blockL()">
<input type="image" src="Images/blockRL.gif" onclick="blockRL()">
<input type="image" src="Images/blockM.gif" onclick="blockM()">
<input type="image" src="Images/blockB.gif" onclick="blockB()">
<input type="image" src="Images/blockBL.gif" onclick="blockBL()">
<input type="image" src="Images/blockBR.gif" onclick="blockBR()">
<input type="image" src="Images/blockBRL.gif" onclick="blockBRL()">
<input type="image" src="Images/blockBT.gif" onclick="blockBT()">
<input type="image" src="Images/blockBTR.gif" onclick="blockBTR()">
<input type="image" src="Images/blockBTL.gif" onclick="blockBTL()">
<input type="image" src="Images/blockT.gif" onclick="blockT()">
<input type="image" src="Images/blockTL.gif" onclick="blockTL()">
<input type="image" src="Images/blockTR.gif" onclick="blockTR()">
<input type="image" src="Images/blockTRL.gif" onclick="blockTRL()">
<input type="image" src="Images/broken.gif" onclick="broken()">
<input type="door" src="Images/door.gif" onclick="door()">
<input type="image" src="Images/death.gif" onclick="death()">
</center>
<div id="target" style="margin:auto;background:grey;"></div>
<br/>
<div id="output" style="margin:0 50 0 50;"></div>
<br/><br/>
</body>
</html>